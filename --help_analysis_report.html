<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Project Analysis Report - --help</title>
<style>
  :root{
    --bg: oklch(0.96 0.01 250);
    --surface: oklch(1 0.01 250);
    --surface-2: oklch(0.98 0.01 250);
    --text: oklch(0.15 0.02 250);
    --muted: oklch(0.45 0.02 250);
    --border: oklch(0.85 0.02 250);
    --accent: oklch(0.65 0.08 240);
    --text-primary: oklch(0.15 0.02 250);
    --text-secondary: oklch(0.45 0.02 250);
    --text-on-surface: oklch(0.15 0.02 250);
    --text-on-surface-2: oklch(0.15 0.02 250);
    --text-on-accent: oklch(1 0 0);
    --text-interactive: oklch(0.35 0.02 250);
    --text-interactive-hover: oklch(1 0 0);
    --success: oklch(73% 0.15 166);
    --warning: oklch(65% 0.12 75);
    --danger: oklch(58% 0.18 25);
    --temp-cold: oklch(38% 0.19 265);
    --temp-cool: oklch(63% 0.23 255);
    --temp-neutral: oklch(73% 0.15 166);
    --temp-warm: oklch(72% 0.17 75);
    --temp-hot: oklch(62% 0.26 25);
    --temp-very-hot: oklch(58% 0.26 25);
    --github-none: oklch(13% 0.01 260);
    --github-low: oklch(27% 0.08 152);
    --github-med: oklch(44% 0.13 155);
    --github-high: oklch(65% 0.18 150);
    --github-max: oklch(75% 0.20 145);
    --plasma-min: oklch(25% 0.14 300);
    --plasma-low: oklch(48% 0.10 240);
    --plasma-med: oklch(70% 0.16 155);
    --plasma-high: oklch(95% 0.16 100);
    --plasma-max: oklch(98% 0.08 105);
    --priority-p0: oklch(58% 0.18 25);
    --priority-p1: oklch(65% 0.12 75);
    --priority-p2: oklch(60% 0.15 255);
    --timeline-purple: oklch(60% 0.18 290);
    --timeline-orange: oklch(70% 0.18 40);
    --white: oklch(100% 0 0);
    --black: oklch(0% 0 0);
    --white-15: oklch(100% 0 0 / 0.15);
    --white-20: oklch(100% 0 0 / 0.2);
    --white-30: oklch(100% 0 0 / 0.3);
    --white-50: oklch(100% 0 0 / 0.5);
    --white-60: oklch(100% 0 0 / 0.6);
    --white-80: oklch(100% 0 0 / 0.8);
    --black-30: oklch(0% 0 0 / 0.3);
    --black-40: oklch(0% 0 0 / 0.4);
    --black-50: oklch(0% 0 0 / 0.5);
    --black-60: oklch(0% 0 0 / 0.6);
    --black-70: oklch(0% 0 0 / 0.7);
    --black-80: oklch(0% 0 0 / 0.8);
    --black-90: oklch(0% 0 0 / 0.9);
    --radius: 12px;
    --ui: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
    --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  }
  html, body{height:100%}
  body{margin:0;background:var(--bg);color:var(--text);font-family:var(--ui);-webkit-font-smoothing:antialiased;line-height:1.6}
  @keyframes shine{0%{box-shadow:0 0 0 0 var(--accent)}50%{box-shadow:0 0 40px 15px var(--accent),inset 0 0 20px 5px var(--accent)}100%{box-shadow:0 0 0 0 var(--accent)}}
  .shine-animation{animation:shine 2s ease-in-out}
  .wrap{max-width:900px;margin:24px auto;padding:0 16px 72px}
  h1{font-size:clamp(24px,3vw,32px);margin:0;font-weight:700}
  h2{font-size:clamp(20px,2.5vw,26px);margin:32px 0 16px;font-weight:600}
  h3{font-size:18px;margin:24px 0 12px;font-weight:600}
  .lead{color:var(--muted);margin:8px 0 0;font-size:clamp(16px,2vw,18px)}
  .grid{display:grid;gap:16px}
  .cols-2{grid-template-columns:repeat(2,1fr)}
  .cols-3{grid-template-columns:repeat(3,1fr)}
  .cols-4{grid-template-columns:repeat(4,1fr)}
  .card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:20px;margin-bottom:24px}
  .card h2{margin:0 0 12px;font-size:20px}
  .card h3{margin:16px 0 8px;font-size:16px}
  .table{width:100%;border-collapse:separate;border-spacing:0;border:1px solid var(--border);border-radius:8px;background:var(--surface)}
  .table th,.table td{padding:12px;text-align:left;vertical-align:top;border-bottom:1px solid var(--border)}
  .table thead th{background:var(--surface-2);font-weight:600}
  .table tbody tr:last-child td{border-bottom:none}
  .mono{font-family:var(--mono);font-size:0.9em;background:var(--surface-2);padding:2px 6px;border-radius:4px}
  .pill{display:inline-block;padding:4px 8px;border-radius:999px;background:var(--surface-2);font-size:12px;color:var(--text);font-weight:500;border:1px solid var(--border)}
  .small{font-size:14px;color:var(--muted)}
  .metric{text-align:center;padding:16px}
  .metric-value{font-size:2rem;font-weight:700;font-family:var(--mono);display:block}
  .metric-label{color:var(--muted);font-size:14px}
  .callout{padding:12px 16px;border-radius:6px;background:var(--surface-2);margin-bottom:12px}
  .status-success{color:var(--success)}
  .status-warning{color:var(--warning)}
  .status-danger{color:var(--danger)}
  details{margin:16px 0}
  summary{cursor:pointer;padding:12px;background:var(--surface-2);border-radius:8px;font-weight:600;user-select:none}
  summary:hover{background:var(--border)}
  details[open] summary{margin-bottom:12px}
  :root[data-theme="dark"]{
    --bg: oklch(11% 0.006 264);
    --surface: oklch(15% 0.008 264);
    --surface-2: oklch(20% 0.01 264);
    --text: oklch(95% 0.008 264);
    --muted: oklch(60% 0.012 264);
    --border: oklch(26% 0.011 264);
    --accent: oklch(65% 0.16 240);
    --text-primary: oklch(95% 0.008 264);
    --text-secondary: oklch(65% 0.012 264);
    --text-on-surface: oklch(95% 0.008 264);
    --text-on-surface-2: oklch(95% 0.008 264);
    --text-on-accent: oklch(1 0 0);
    --text-interactive: oklch(75% 0.012 264);
    --text-interactive-hover: oklch(1 0 0);
  }
  :root[data-theme="dark"] body{background:var(--bg);color:var(--text)}
  :root[data-theme="dark"] .card{background:var(--surface);border-color:var(--border)}
  :root[data-theme="dark"] .table{background:var(--surface);border-color:var(--border)}
  :root[data-theme="dark"] .table thead th{background:var(--surface-2)}
  :root[data-theme="dark"] .table tbody tr:nth-child(even){background:var(--surface-2)}
  :root[data-theme="dark"] .mono{background:var(--surface-2);color:oklch(85% 0.08 240)}
  :root[data-theme="dark"] .pill{background:var(--surface-2);border-color:var(--border);color:var(--muted)}
  :root[data-theme="dark"] summary:hover{background:var(--surface-2)}
  #settings-root{position:fixed;top:20px;right:20px;z-index:10000}
  #settings-toggle{width:60px;height:60px;border-radius:50%;background:var(--surface);border:2px solid var(--accent);box-shadow:0 4px 12px rgba(0,0,0,0.15);cursor:pointer;font-size:24px;transition:all 0.2s;display:flex;align-items:center;justify-content:center}
  #settings-toggle:hover{transform:scale(1.1);box-shadow:0 6px 16px rgba(0,0,0,0.2)}
  #settings-panel{position:absolute;top:70px;right:0;width:300px;background:var(--surface);border:2px solid var(--accent);border-radius:16px;box-shadow:0 8px 24px rgba(0,0,0,0.2);display:none}
  #settings-panel.open{display:block;animation:slideDown 0.3s ease-out}
  @keyframes slideDown{from{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}
  @keyframes slideIn{from{opacity:0;transform:translateX(100px)}to{opacity:1;transform:translateX(0)}}
  @keyframes slideOut{from{opacity:1;transform:translateX(0)}to{opacity:0;transform:translateX(100px)}}
  .settings-header{display:flex;justify-content:space-between;align-items:center;padding:16px;border-bottom:1px solid var(--border);font-weight:700;color:var(--text-primary)}
  .settings-close{width:28px;height:28px;border-radius:50%;border:none;background:var(--surface-2);cursor:pointer;font-size:14px;transition:all 0.2s;color:var(--text-interactive)}
  .settings-close:hover{background:var(--accent);color:var(--text-on-accent)}
  .settings-section{padding:16px;border-bottom:1px solid var(--border)}
  .settings-section:last-child{border-bottom:none}
  .settings-section-title{font-size:13px;font-weight:700;margin-bottom:12px;color:var(--text-primary)}
  .schema-btn{width:100%;padding:10px 12px;margin-bottom:8px;background:var(--surface-2);border:2px solid transparent;border-radius:8px;cursor:pointer;transition:all 0.2s;text-align:left;font-size:13px;font-weight:600;display:flex;justify-content:space-between;align-items:center;color:var(--text-interactive)}
  .schema-btn:hover{background:var(--accent);color:var(--text-interactive-hover)}
  .schema-btn.active{border-color:var(--accent);color:var(--text-primary)}
  .schema-swatches{display:flex;gap:4px}
  .schema-swatch{width:16px;height:16px;border-radius:3px;border:1px solid rgba(255,255,255,0.2)}
  .settings-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px}
  .settings-grid button{padding:10px;background:var(--surface-2);border:2px solid transparent;border-radius:8px;cursor:pointer;font-size:13px;font-weight:600;transition:all 0.2s;color:var(--text-interactive)}
  .settings-grid button:hover{background:var(--accent);color:var(--text-interactive-hover)}
  .settings-grid button.active{border-color:var(--accent);color:var(--text-primary)}
  .summary-grid{display:grid;grid-template-columns:2fr 1fr;gap:24px}
  @media (max-width: 768px){.cols-2,.cols-3,.cols-4{grid-template-columns:1fr}.wrap{margin:16px auto;padding:0 12px 48px}.summary-grid{grid-template-columns:1fr}}
  @media (max-width: 480px){.wrap{padding:0 8px 36px}.metric{padding:12px 8px}.metric-value{font-size:1.5rem}}
</style>
<script src='https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js'></script>
</head>
<body>
<div id="settings-root">
  <button id="settings-toggle" onclick="toggleSettings()">‚öôÔ∏è</button>
  <div id="settings-panel">
    <div class="settings-header">
      <span>‚öôÔ∏è Settings</span>
      <button class="settings-close" onclick="closeSettings()">‚úï</button>
    </div>
    <div class="settings-section">
      <div class="settings-section-title">üé® Color Schema</div>
      <button class="schema-btn" id="schema-temp" onclick="switchColorSchema('temperature')">
        <span>üå°Ô∏è Temperature</span>
        <div class="schema-swatches">
          <div class="schema-swatch" style="background:oklch(38% 0.19 265)"></div>
          <div class="schema-swatch" style="background:oklch(73% 0.15 166)"></div>
          <div class="schema-swatch" style="background:oklch(72% 0.17 75)"></div>
          <div class="schema-swatch" style="background:oklch(62% 0.26 25)"></div>
        </div>
      </button>
      <button class="schema-btn" id="schema-github" onclick="switchColorSchema('github')">
        <span>üêô GitHub</span>
        <div class="schema-swatches">
          <div class="schema-swatch" style="background:oklch(13% 0.01 260)"></div>
          <div class="schema-swatch" style="background:oklch(27% 0.08 152)"></div>
          <div class="schema-swatch" style="background:oklch(44% 0.13 155)"></div>
          <div class="schema-swatch" style="background:oklch(75% 0.20 145)"></div>
        </div>
      </button>
      <button class="schema-btn" id="schema-plasma" onclick="switchColorSchema('plasma')">
        <span>üî• Plasma</span>
        <div class="schema-swatches">
          <div class="schema-swatch" style="background:oklch(25% 0.14 300)"></div>
          <div class="schema-swatch" style="background:oklch(48% 0.10 240)"></div>
          <div class="schema-swatch" style="background:oklch(70% 0.16 155)"></div>
          <div class="schema-swatch" style="background:oklch(95% 0.16 100)"></div>
        </div>
      </button>
    </div>
    <div class="settings-section">
      <div class="settings-section-title">üåê Language & Theme</div>
      <div class="settings-grid">
        <button id="lang-en" onclick="selectLang('en')">üåê EN</button>
        <button id="lang-pt" onclick="selectLang('pt')">üåê PT</button>
        <button id="theme-light" onclick="selectTheme('light')">‚òÄÔ∏è Light</button>
        <button id="theme-dark" onclick="selectTheme('dark')">üåô Dark</button>
      </div>
    </div>
  </div>
</div>
<div class="wrap">
  <header style='text-align:center;padding:40px 0 32px;border-bottom:2px solid var(--border);margin-bottom:32px'>
    <div style="font-size:clamp(32px,4vw,48px);font-weight:800;margin-bottom:16px;line-height:1.2;color:var(--text)">--help</div>
    <div style="font-size:16px;color:var(--muted);margin-bottom:8px" data-en="Project Analysis Report" data-pt="Relat√≥rio de An√°lise de Projeto">Project Analysis Report</div>
    <div style="font-size:14px;color:var(--muted);font-family:var(--mono)">
      <span data-en="Generated" data-pt="Gerado">Generated</span> 2025-10-10 13:00:08
    </div>
  </header>
  <nav style='background:linear-gradient(135deg, var(--surface-2), var(--surface));border:1px solid var(--border);border-radius:12px;padding:24px;margin-bottom:32px;'>
    <h2 style='margin:0 0 16px 0;font-size:20px;font-weight:600;color:var(--text);display:flex;align-items:center;gap:8px;'>
      üìö <span data-en='MEGALITH INDEX' data-pt='√çNDICE DO MEGALITH'>MEGALITH INDEX</span>
      <span style='background:var(--accent);color:white;font-size:12px;padding:4px 8px;border-radius:12px;font-weight:500;'>LIGHTHOUSE NAVIGATION</span>
    </h2>
    <div style='display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px;'>
      <div class='index-section' style='background:var(--surface);border:1px solid var(--border);border-radius:8px;padding:16px;'>
        <h3 style='margin:0 0 8px 0;font-size:16px;font-weight:600;color:var(--accent);'>üéØ Chapter 1</h3>
        <div style='font-weight:500;color:var(--text);margin-bottom:4px;'>Project Overview</div>
        <div style='font-size:13px;color:var(--muted);'>Score: 100/100 ‚Ä¢ Grade: A - Excellent</div>
        <div style='margin-top:8px;'>
          <button onclick='scrollToSection("hero")' style='background:var(--accent);color:white;border:none;padding:6px 12px;border-radius:6px;font-size:12px;cursor:pointer;'>Jump to ‚Üì</button>
        </div>
      </div>
      <div class='index-section' style='background:var(--surface);border:1px solid var(--border);border-radius:8px;padding:16px;'>
        <h3 style='margin:0 0 8px 0;font-size:16px;font-weight:600;color:#10b981;'>üöÄ Chapter 2</h3>
        <div style='font-weight:500;color:var(--text);margin-bottom:4px;'>ULTRATHINK Dependency Maps</div>
        <div style='font-size:13px;color:var(--muted);'>5 Smart Diagrams ‚Ä¢ Risk Analysis</div>
        <div style='margin-top:8px;'>
          <button onclick='scrollToSection("ultrathink")' style='background:#10b981;color:white;border:none;padding:6px 12px;border-radius:6px;font-size:12px;cursor:pointer;'>Jump to ‚Üì</button>
        </div>
      </div>
      <div class='index-section' style='background:var(--surface);border:1px solid var(--border);border-radius:8px;padding:16px;'>
        <h3 style='margin:0 0 8px 0;font-size:16px;font-weight:600;color:#8b5cf6;'>üìÅ Chapter 3</h3>
        <div style='font-weight:500;color:var(--text);margin-bottom:4px;'>Directory Structure</div>
        <div style='font-size:13px;color:var(--muted);'>0 directories analyzed</div>
        <div style='margin-top:8px;'>
          <button onclick='scrollToSection("directories")' style='background:#8b5cf6;color:white;border:none;padding:6px 12px;border-radius:6px;font-size:12px;cursor:pointer;'>Jump to ‚Üì</button>
        </div>
      </div>
      <div class='index-section' style='background:var(--surface);border:1px solid var(--border);border-radius:8px;padding:16px;'>
        <h3 style='margin:0 0 8px 0;font-size:16px;font-weight:600;color:#f59e0b;'>üõ†Ô∏è Chapter 4</h3>
        <div style='font-weight:500;color:var(--text);margin-bottom:4px;'>Technology Stack</div>
        <div style='font-size:13px;color:var(--muted);'>Frameworks & dependencies</div>
        <div style='margin-top:8px;'>
          <button onclick='scrollToSection("tech-stack")' style='background:#f59e0b;color:white;border:none;padding:6px 12px;border-radius:6px;font-size:12px;cursor:pointer;'>Jump to ‚Üì</button>
        </div>
      </div>
      <div class='index-section' style='background:var(--surface);border:1px solid var(--border);border-radius:8px;padding:16px;'>
        <h3 style='margin:0 0 8px 0;font-size:16px;font-weight:600;color:#ef4444;'>‚ö° Chapter 5</h3>
        <div style='font-weight:500;color:var(--text);margin-bottom:4px;'>Critical Issues & Action Plan</div>
        <div style='font-size:13px;color:var(--muted);'>Priority fixes needed</div>
        <div style='margin-top:8px;'>
          <button onclick='scrollToSection("action-plan")' style='background:#ef4444;color:white;border:none;padding:6px 12px;border-radius:6px;font-size:12px;cursor:pointer;'>Jump to ‚Üì</button>
        </div>
      </div>
    </div>
    <div style='margin-top:16px;text-align:center;'>
      <div style='font-size:12px;color:var(--muted);margin-bottom:8px;'>
        üìñ <span data-en='Total Chapters: 5 ‚Ä¢ Estimated Reading: 8-12 minutes' data-pt='Total de Cap√≠tulos: 5 ‚Ä¢ Leitura Estimada: 8-12 minutos'>Total Chapters: 5 ‚Ä¢ Estimated Reading: 8-12 minutes</span>
      </div>
      <div style='display:flex;justify-content:center;gap:8px;'>
        <button onclick='expandAllSections()' style='background:var(--surface-2);color:var(--text);border:1px solid var(--border);padding:6px 12px;border-radius:6px;font-size:11px;cursor:pointer;'>üìñ Expand All</button>
        <button onclick='collapseAllSections()' style='background:var(--surface-2);color:var(--text);border:1px solid var(--border);padding:6px 12px;border-radius:6px;font-size:11px;cursor:pointer;'>üìï Collapse All</button>
      </div>
    </div>
  </nav>
  <section class="card" style="padding:24px">
    <div class="summary-grid">
      <!-- Left: Metrics Grid (Compact 2x2) -->
      <div class="grid cols-2" style="gap:12px">
          <div style="background:var(--surface-2);padding:16px;border-radius:8px;text-align:center">
            <div style="font-size:36px;font-weight:800;color:var(--success);font-family:var(--mono)">100.0</div>
            <div style="font-size:12px;color:var(--muted);margin-top:4px" data-en="Health Score" data-pt="Pontua√ß√£o">Health Score</div>
          </div>
          <div style="background:var(--surface-2);padding:16px;border-radius:8px;text-align:center">
            <div style="font-size:36px;font-weight:800;color:var(--accent);font-family:var(--mono)">0</div>
            <div style="font-size:12px;color:var(--muted);margin-top:4px" data-en="Files" data-pt="Arquivos">Files</div>
          </div>
          <div style="background:var(--surface-2);padding:16px;border-radius:8px;text-align:center">
            <div style="font-size:28px;font-weight:700;color:var(--text);font-family:var(--mono)">0</div>
            <div style="font-size:12px;color:var(--muted);margin-top:4px" data-en="Directories" data-pt="Diret√≥rios">Directories</div>
          </div>
          <div style="background:var(--surface-2);padding:16px;border-radius:8px;text-align:center">
            <div style="font-size:28px;font-weight:700;color:var(--text);font-family:var(--mono)">0.0s</div>
            <div style="font-size:12px;color:var(--muted);margin-top:4px" data-en="Analysis" data-pt="An√°lise">Analysis</div>
          </div>
        </div>
      <!-- Right: Grade, Status & Purpose -->
      <div style="background:var(--surface-2);padding:20px;border-radius:8px;border-left:4px solid var(--success)">
        <div style="font-size:24px;font-weight:700;margin-bottom:12px;color:var(--success)">A - Excellent</div>
        <div style="font-size:14px;color:var(--muted);margin-bottom:16px" data-en="Excellent project health" data-pt="Sa√∫de excelente">Excellent project health</div>
        <div style="padding-top:12px;border-top:1px solid var(--border)">
          <div style="font-size:11px;font-weight:600;color:var(--accent);margin-bottom:6px" data-en="PROJECT PURPOSE" data-pt="PROP√ìSITO">PROJECT PURPOSE</div>
          <div style="font-size:13px;line-height:1.5;color:var(--text)">Software development project</div>
        </div>
      </div>
    </div>
  </section>

        <section class="card" id="section-dependency-map" style="border:1px solid var(--border);border-radius:8px;padding:20px;">
          <summary style="cursor:pointer;font-size:18px;font-weight:600;margin-bottom:16px;user-select:none" data-en="üöÄ ULTRATHINK DEPENDENCY MAP: 5 Smart Diagrams + Real Code Analysis" data-pt="üöÄ MAPA DE DEPEND√äNCIAS ULTRATHINK: 5 Diagramas Inteligentes + An√°lise de C√≥digo Real">üöÄ ULTRATHINK DEPENDENCY MAP: 5 Smart Diagrams + Real Code Analysis</summary>

          <!-- PRIMARY STATISTICS -->
          <div class="dependency-stats" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-bottom:24px;">
            <div class="stat-card" style="background:var(--surface-2);padding:16px;border-radius:8px;text-align:center;">
              <div style="font-size:1.8rem;font-weight:800;color:var(--accent);margin-bottom:8px;">0</div>
              <div style="color:var(--muted);font-size:0.9rem;">Files Analyzed</div>
            </div>
            <div class="stat-card" style="background:var(--surface-2);padding:16px;border-radius:8px;text-align:center;">
              <div style="font-size:1.8rem;font-weight:800;color:var(--warning);margin-bottom:8px;">0</div>
              <div style="color:var(--muted);font-size:0.9rem;">Direct Dependencies</div>
            </div>
            <div class="stat-card" style="background:var(--surface-2);padding:16px;border-radius:8px;text-align:center;">
              <div style="font-size:1.8rem;font-weight:800;color:var(--success);margin-bottom:8px;">5</div>
              <div style="color:var(--muted);font-size:0.9rem;">Smart Diagrams</div>
            </div>
            <div class="stat-card" style="background:var(--surface-2);padding:16px;border-radius:8px;text-align:center;">
              <div style="font-size:1.8rem;font-weight:800;color:var(--danger);margin-bottom:8px;">ULTRATHINK</div>
              <div style="color:var(--muted);font-size:0.9rem;">Analysis Engine</div>
            </div>
          </div>

          <!-- üî´ SNIPER GUN ENTITY ANALYSIS -->
          <div class="sniper-stats" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px;margin-bottom:24px;">
            <div class="stat-card" style="background:linear-gradient(135deg, rgba(99,102,241,0.1) 0%, rgba(139,92,246,0.1) 100%);padding:16px;border-radius:8px;text-align:center;border:1px solid var(--accent);">
              <div style="font-size:1.6rem;font-weight:700;color:var(--accent);margin-bottom:6px;">0</div>
              <div style="color:var(--muted);font-size:0.85rem;">üî´ Total Entities</div>
            </div>
            <div class="stat-card" style="background:var(--surface-2);padding:16px;border-radius:8px;text-align:center;">
              <div style="font-size:1.4rem;font-weight:700;color:#8b5cf6;margin-bottom:6px;">0</div>
              <div style="color:var(--muted);font-size:0.85rem;">Functions</div>
            </div>
            <div class="stat-card" style="background:var(--surface-2);padding:16px;border-radius:8px;text-align:center;">
              <div style="font-size:1.4rem;font-weight:700;color:#10b981;margin-bottom:6px;">0</div>
              <div style="color:var(--muted);font-size:0.85rem;">Classes</div>
            </div>
            <div class="stat-card" style="background:var(--surface-2);padding:16px;border-radius:8px;text-align:center;">
              <div style="font-size:1.4rem;font-weight:700;color:#f59e0b;margin-bottom:6px;">0</div>
              <div style="color:var(--muted);font-size:0.85rem;">React Components</div>
            </div>
            <div class="stat-card" style="background:var(--surface-2);padding:16px;border-radius:8px;text-align:center;">
              <div style="font-size:1.4rem;font-weight:700;color:#ef4444;margin-bottom:6px;">0</div>
              <div style="color:var(--muted);font-size:0.85rem;">API Endpoints</div>
            </div>
            <div class="stat-card" style="background:var(--surface-2);padding:16px;border-radius:8px;text-align:center;">
              <div style="font-size:1.4rem;font-weight:700;color:#8b4513;margin-bottom:6px;">0</div>
              <div style="color:var(--muted);font-size:0.85rem;">üåä Ripple Score</div>
            </div>
            <div class="stat-card" style="background:var(--surface-2);padding:16px;border-radius:8px;text-align:center;">
              <div style="font-size:1.4rem;font-weight:700;color:#6366f1;margin-bottom:6px;">0</div>
              <div style="color:var(--muted);font-size:0.85rem;">Lines of Code</div>
            </div>
          </div>

          <!-- üåä RIPPLE EFFECT ANALYSIS -->
          <div class="ripple-analysis" style="background:var(--surface-2);border:1px solid var(--border);border-radius:8px;padding:20px;margin-bottom:24px;">
            <h4 style="margin-bottom:16px;color:var(--text);display:flex;align-items:center;gap:8px;">
              üåä <span data-en="Ripple Effect Analysis" data-pt="An√°lise de Efeito Cascata">Ripple Effect Analysis</span>
            </h4>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
          </div>

          <!-- üöÄ ULTRATHINK 5-DIAGRAM SYSTEM -->
          <div class="ultrathink-diagrams" style="margin-bottom:32px;">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;">
              <h3 style="font-size:20px;font-weight:600;color:var(--text);margin:0;">üöÄ ULTRATHINK Smart Diagrams</h3>
              <div style="display:flex;gap:12px;">
                <button onclick="zoomInDiagrams()" style="background:var(--accent);color:white;border:none;padding:8px 16px;border-radius:6px;cursor:pointer;font-size:14px;font-weight:500;">
                  üîç+ Zoom
                </button>
                <button onclick="resetDiagrams()" style="background:var(--surface-2);color:var(--text);border:1px solid var(--border);padding:8px 16px;border-radius:6px;cursor:pointer;font-size:14px;font-weight:500;">
                  üîÑ Reset
                </button>
              </div>
            </div>

            <div class="diagram-grid" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:20px;">
              
              <div class="diagram-card" id="diagram-ultrathink-main-core" style="background:var(--surface-2);border:1px solid var(--border);border-radius:12px;padding:20px;transition:all 0.3s ease;">
                <div class="diagram-header" style="margin-bottom:16px;">
                  <h4 style="font-size:18px;font-weight:600;color:var(--text);margin:0 0 8px 0;display:flex;align-items:center;gap:8px;">
                    üéØ Main Core Architecture
                    <span style="background:#10b981;color:white;font-size:12px;padding:4px 8px;border-radius:12px;font-weight:500;">
                      LOW
                    </span>
                  </h4>
                  <p style="color:var(--muted);font-size:14px;margin:0;">Central components and their direct relationships</p>
                  <div style="display:flex;gap:16px;margin-top:8px;font-size:13px;color:var(--muted);">
                    <span>üìä 0 nodes</span>
                    <span>üîó 0 edges</span>
                  </div>
                </div>

                <div class="diagram-container" style="background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:16px;min-height:300px;">
                  <div class="mermaid" id="mermaid-ultrathink-main-core" style="font-family:'Monaco','Menlo','Ubuntu Mono',monospace;font-size:12px;">
flowchart TD
                  </div>
                </div>
              </div>

              <div class="diagram-card" id="diagram-ultrathink-critical-paths" style="background:var(--surface-2);border:1px solid var(--border);border-radius:12px;padding:20px;transition:all 0.3s ease;">
                <div class="diagram-header" style="margin-bottom:16px;">
                  <h4 style="font-size:18px;font-weight:600;color:var(--text);margin:0 0 8px 0;display:flex;align-items:center;gap:8px;">
                    üî• Critical Dependency Paths
                    <span style="background:#f59e0b;color:white;font-size:12px;padding:4px 8px;border-radius:12px;font-weight:500;">
                      MEDIUM
                    </span>
                  </h4>
                  <p style="color:var(--muted);font-size:14px;margin:0;">Most connected components and critical dependency chains</p>
                  <div style="display:flex;gap:16px;margin-top:8px;font-size:13px;color:var(--muted);">
                    <span>üìä 0 nodes</span>
                    <span>üîó 0 edges</span>
                  </div>
                </div>

                <div class="diagram-container" style="background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:16px;min-height:300px;">
                  <div class="mermaid" id="mermaid-ultrathink-critical-paths" style="font-family:'Monaco','Menlo','Ubuntu Mono',monospace;font-size:12px;">
flowchart TD
                  </div>
                </div>
              </div>

              <div class="diagram-card" id="diagram-ultrathink-component-clusters" style="background:var(--surface-2);border:1px solid var(--border);border-radius:12px;padding:20px;transition:all 0.3s ease;">
                <div class="diagram-header" style="margin-bottom:16px;">
                  <h4 style="font-size:18px;font-weight:600;color:var(--text);margin:0 0 8px 0;display:flex;align-items:center;gap:8px;">
                    üß© Component Clusters
                    <span style="background:#f59e0b;color:white;font-size:12px;padding:4px 8px;border-radius:12px;font-weight:500;">
                      MEDIUM
                    </span>
                  </h4>
                  <p style="color:var(--muted);font-size:14px;margin:0;">Components grouped by type and functionality</p>
                  <div style="display:flex;gap:16px;margin-top:8px;font-size:13px;color:var(--muted);">
                    <span>üìä 0 nodes</span>
                    <span>üîó 0 edges</span>
                  </div>
                </div>

                <div class="diagram-container" style="background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:16px;min-height:300px;">
                  <div class="mermaid" id="mermaid-ultrathink-component-clusters" style="font-family:'Monaco','Menlo','Ubuntu Mono',monospace;font-size:12px;">
flowchart TD
                  </div>
                </div>
              </div>

              <div class="diagram-card" id="diagram-ultrathink-service-layers" style="background:var(--surface-2);border:1px solid var(--border);border-radius:12px;padding:20px;transition:all 0.3s ease;">
                <div class="diagram-header" style="margin-bottom:16px;">
                  <h4 style="font-size:18px;font-weight:600;color:var(--text);margin:0 0 8px 0;display:flex;align-items:center;gap:8px;">
                    üèóÔ∏è Service Layer Architecture
                    <span style="background:#10b981;color:white;font-size:12px;padding:4px 8px;border-radius:12px;font-weight:500;">
                      LOW
                    </span>
                  </h4>
                  <p style="color:var(--muted);font-size:14px;margin:0;">Architectural layers and service organization</p>
                  <div style="display:flex;gap:16px;margin-top:8px;font-size:13px;color:var(--muted);">
                    <span>üìä 0 nodes</span>
                    <span>üîó 0 edges</span>
                  </div>
                </div>

                <div class="diagram-container" style="background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:16px;min-height:300px;">
                  <div class="mermaid" id="mermaid-ultrathink-service-layers" style="font-family:'Monaco','Menlo','Ubuntu Mono',monospace;font-size:12px;">
flowchart TD
                  </div>
                </div>
              </div>

              <div class="diagram-card" id="diagram-ultrathink-risk-analysis" style="background:var(--surface-2);border:1px solid var(--border);border-radius:12px;padding:20px;transition:all 0.3s ease;">
                <div class="diagram-header" style="margin-bottom:16px;">
                  <h4 style="font-size:18px;font-weight:600;color:var(--text);margin:0 0 8px 0;display:flex;align-items:center;gap:8px;">
                    ‚ö†Ô∏è Risk Analysis & Hotspots
                    <span style="background:#dc2626;color:white;font-size:12px;padding:4px 8px;border-radius:12px;font-weight:500;">
                      CRITICAL
                    </span>
                  </h4>
                  <p style="color:var(--muted);font-size:14px;margin:0;">Potential issues and high-risk areas requiring attention</p>
                  <div style="display:flex;gap:16px;margin-top:8px;font-size:13px;color:var(--muted);">
                    <span>üìä 0 nodes</span>
                    <span>üîó 0 edges</span>
                  </div>
                </div>

                <div class="diagram-container" style="background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:16px;min-height:300px;">
                  <div class="mermaid" id="mermaid-ultrathink-risk-analysis" style="font-family:'Monaco','Menlo','Ubuntu Mono',monospace;font-size:12px;">
flowchart TD
                  </div>
                </div>
              </div>

            </div>
            </div>
          </div>

          <!-- üéØ DIAGRAM INTERACTIVE CONTROLS -->
          <div class="diagram-controls" style="background:linear-gradient(135deg, rgba(99,102,241,0.05) 0%, rgba(139,92,246,0.05) 100%);border:1px solid var(--accent);border-radius:12px;padding:20px;margin-bottom:32px;">
            <h4 style="font-size:18px;font-weight:600;color:var(--text);margin:0 0 16px 0;">üéØ Interactive Controls</h4>
            <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px;">
              <button onclick="toggleAllDiagrams()" style="background:var(--accent);color:white;border:none;padding:12px 20px;border-radius:8px;cursor:pointer;font-weight:500;transition:all 0.2s;">
                üëÅÔ∏è Toggle All Diagrams
              </button>
              <button onclick="exportDiagrams()" style="background:var(--success);color:white;border:none;padding:12px 20px;border-radius:8px;cursor:pointer;font-weight:500;transition:all 0.2s;">
                üì∏ Export All
              </button>
              <button onclick="showDiagramHelp()" style="background:var(--surface-2);color:var(--text);border:1px solid var(--border);padding:12px 20px;border-radius:8px;cursor:pointer;font-weight:500;transition:all 0.2s;">
                ‚ùì Help
              </button>
            </div>
          </div>

          <!-- ULTRATHINK INTERACTIVE SCRIPT -->
          <script>
            // ULTRATHINK Interactive Diagram Controls
            let currentZoom = 1;
            let diagramsVisible = true;

            function toggleAllDiagrams() {
              diagramsVisible = !diagramsVisible;
              const containers = document.querySelectorAll('.diagram-container');
              containers.forEach(container => {
                container.style.display = diagramsVisible ? 'block' : 'none';
              });
            }

            function zoomInDiagrams() {
              currentZoom = currentZoom >= 2 ? 1 : currentZoom + 0.25;
              document.querySelectorAll('.diagram-container').forEach(container => {
                container.style.transform = `scale(${currentZoom})`;
                container.style.transformOrigin = 'top left';
              });
            }

            function resetDiagrams() {
              currentZoom = 1;
              document.querySelectorAll('.diagram-container').forEach(container => {
                container.style.transform = 'scale(1)';
              });
            }

            function exportDiagrams() {
              const diagrams = document.querySelectorAll('.diagram-card');
              let exportText = 'ULTRATHINK DEPENDENCY MAP EXPORT\n';
              exportText += 'Generated: ' + new Date().toISOString() + '\n\n';

              diagrams.forEach((diagram, index) => {
                const title = diagram.querySelector('h4').textContent.trim();
                const mermaidCode = diagram.querySelector('.mermaid').textContent.trim();
                exportText += `=== DIAGRAM ${index + 1}: ${title} ===\n`;
                exportText += mermaidCode + '\n\n';
              });

              // Create download
              const blob = new Blob([exportText], { type: 'text/plain' });
              const url = URL.createObjectURL(blob);
              const a = document.createElement('a');
              a.href = url;
              a.download = 'ultrathink-dependency-map-export.txt';
              a.click();
              URL.revokeObjectURL(url);
            }

            function showDiagramHelp() {
              alert('üöÄ ULTRATHINK DEPENDENCY MAP HELP\n\n' +
                    '‚Ä¢ 5 Smart Diagrams: Each diagram shows different aspects of your codebase\n' +
                    '‚Ä¢ Risk Levels: GREEN (Low) ‚Üí YELLOW (Medium) ‚Üí RED (High) ‚Üí DARK RED (Critical)\n' +
                    '‚Ä¢ Interactive Controls: Zoom, export, and toggle diagrams\n' +
                    '‚Ä¢ Real Analysis: Based on actual code scanning and dependency mapping\n\n' +
                    'This is the most comprehensive dependency analysis available!');
            }

            // Initialize when ready
            console.log('üöÄ ULTRATHINK DEPENDENCY MAP LOADED');
          </script>

          <!-- üéØ ADVANCED ACTIONS -->
          <div class="dependency-actions" style="margin-top:20px;display:flex;gap:12px;flex-wrap:wrap;">
            <button onclick="copyMermaidCode()" style="background:var(--accent);color:white;border:none;padding:12px 24px;border-radius:8px;cursor:pointer;font-weight:600;transition:all 0.2s;box-shadow:0 2px 8px var(--black-20);">
              üìã Copy Mermaid Code
            </button>
            <button onclick="exportFullAnalysis()" style="background:var(--warning);color:white;border:none;padding:12px 24px;border-radius:8px;cursor:pointer;font-weight:600;transition:all 0.2s;box-shadow:0 2px 8px var(--black-20);">
              üíæ Export Full Analysis
            </button>
            <button onclick="exportSniperData()" style="background:linear-gradient(135deg, #667eea 0%, #764ba2 100%);color:white;border:none;padding:12px 24px;border-radius:8px;cursor:pointer;font-weight:600;transition:all 0.2s;box-shadow:0 2px 8px var(--black-20);">
              üî´ Export Sniper Data
            </button>
            <button onclick="regenerateDependencyMap()" style="background:var(--muted);color:white;border:none;padding:12px 24px;border-radius:8px;cursor:pointer;font-weight:600;transition:all 0.2s;box-shadow:0 2px 8px var(--black-20);">
              üîÑ Regenerate Map
            </button>
            <button onclick="toggleRippleMode()" style="background:linear-gradient(135deg, #f093fb 0%, #f5576c 100%);color:white;border:none;padding:12px 24px;border-radius:8px;cursor:pointer;font-weight:600;transition:all 0.2s;box-shadow:0 2px 8px var(--black-20);">
              üåä Toggle Ripple Mode
            </button>
          </div>

          <!-- üìä DETAILED RECOMMENDATIONS -->
          <div class="dependency-recommendations" style="margin-top:20px;">
            <h4 style="margin-bottom:16px;color:var(--text);display:flex;align-items:center;gap:8px;">
              üéØ <span data-en="Strategic Recommendations" data-pt="Recomenda√ß√µes Estrat√©gicas">Strategic Recommendations</span>
            </h4>
            <div class="recommendations-list" style="background:var(--surface-2);border:1px solid var(--border);border-radius:8px;padding:16px;">
              <div class="space-y-4">
            <div class="border rounded-lg p-4 bg-green-100 border-green-300 text-green-800">
                <div class="flex items-start space-x-3">
                    <div class="flex-shrink-0">
                        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-800 text-white">
                            INFO
                        </span>
                    </div>
                    <div class="flex-1">
                        <h4 class="font-semibold">Good Dependency Structure</h4>
                        <p class="text-sm mt-1 opacity-90">No major issues detected in dependency analysis</p>
                        <ul class="mt-2 text-sm space-y-1">
                            <li class="flex items-center"><span class="w-2 h-2 bg-current rounded-full mr-2"></span>Continue current practices</li><li class="flex items-center"><span class="w-2 h-2 bg-current rounded-full mr-2"></span>Regular dependency reviews</li>
                        </ul>
                    </div>
                </div>
            </div>
            </div>
            </div>
          </div>

          <!-- üîç ENTITY DETAILS SECTION -->
          <details style="margin-top:20px;border:1px solid var(--border);border-radius:8px;padding:0;">
            <summary style="cursor:pointer;font-size:16px;font-weight:600;padding:16px;margin-bottom:0;user-select:none;background:var(--surface-2);border-radius:8px 8px 0 0;" data-en="üîç Detailed Entity Analysis (Click to expand)" data-pt="üîç An√°lise Detalhada de Entidades (Clique para expandir)">
              üîç Detailed Entity Analysis (Click to expand)
            </summary>
            <div style="padding:20px;">
              <p class="text-gray-600">No entity analysis available</p>
            </div>
          </details>
        </section>
        
  <details open class="card" style="border:1px solid var(--border);border-radius:8px;padding:20px">
    <summary style="cursor:pointer;font-size:18px;font-weight:600;margin-bottom:16px;user-select:none" data-en="üìä Project Health Details - Click to collapse" data-pt="üìä Detalhes de Sa√∫de - Clique para recolher">üìä Project Health Details</summary>
    <div class="grid cols-3">
      <div class="callout"><strong data-en="Duplicates:" data-pt="Duplicados:">Duplicates:</strong> <span class="status-success">0 sets (0.0 MB wasted)</span></div>
      <div class="callout"><strong data-en="Empty Dirs:" data-pt="Dirs Vazios:">Empty Dirs:</strong> <span class="status-success">0</span></div>
      <div class="callout"><strong data-en="Unknown Dirs:" data-pt="Dirs Desconhecidos:">Unknown Dirs:</strong> <span class="status-success">0 (0.0%)</span></div>
    </div>
    <div class="callout" style="margin-top:12px"><strong data-en="Tech Stack:" data-pt="Stack Tecnol√≥gico:">Tech Stack:</strong> N/A</div>
  </details>

        <section class="card">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px">
            <div>
              <h2 style="margin:0" data-en="üéØ What To Do Now - Action Plan" data-pt="üéØ O Que Fazer Agora - Plano de A√ß√£o">üéØ What To Do Now - Action Plan</h2>
              <p class="small" style="margin:4px 0 0" data-en="AI-agent ready instructions with copy-paste buttons" data-pt="Instru√ß√µes prontas para IA com bot√µes de copiar">AI-agent ready instructions with copy-paste buttons</p>
            </div>
            <button onclick="copyMasterInstructions()" style="background:var(--accent);color:white;border:none;padding:12px 20px;border-radius:8px;font-weight:600;cursor:pointer;font-size:14px;transition:all 0.2s;box-shadow:0 4px 12px var(--black-40)" onmouseover="this.style.transform='scale(1.05)';this.style.boxShadow='0 6px 16px var(--black-50)'" onmouseout="this.style.transform='scale(1)';this.style.boxShadow='0 4px 12px var(--black-40)'">
              <span data-en="üéØ Copy Complete Agent Instructions" data-pt="üéØ Copiar Instru√ß√µes Completas">üéØ Copy Complete Agent Instructions</span>
            </button>
          </div>
        
          <details style="margin-top:24px;border:1px solid var(--border);border-left:3px solid var(--warning);border-radius:8px;padding:16px;background:var(--surface-2)">
            <summary style="cursor:pointer;font-size:18px;font-weight:600;color:var(--warning)" data-en="‚ö° P1: High Priority (1-2 days) - Click to expand" data-pt="‚ö° P1: Alta Prioridade (1-2 dias) - Clique para expandir">‚ö° P1: High Priority (1-2 days) - Click to expand</summary>
            <div style="color:var(--muted);font-size:13px;margin-top:8px" data-en="Important improvements for project health" data-pt="Melhorias importantes para sa√∫de do projeto">Important improvements for project health</div>
            <div style="margin-top:20px">
            
            <div class="callout" style="border-left:4px solid var(--warning);background:var(--surface);padding:20px;margin-top:16px;border-radius:8px">
              <div style="display:flex;align-items:center;gap:12px;margin-bottom:12px">
                <div style="border:1px solid var(--warning);color:var(--warning);width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:16px;flex-shrink:0;opacity:0.8">1</div>
                <div style="font-weight:600;font-size:18px;line-height:1.3"><span data-en="Setup appropriate testing framework testing" data-pt="Configurar testes com appropriate testing framework">Setup appropriate testing framework testing</span></div>
              </div>
              <div style="display:flex;gap:16px;flex-wrap:wrap;margin-bottom:8px">
                <span style="background:var(--surface);padding:6px 12px;border-radius:6px;font-size:13px;border:1px solid var(--border)">‚è±Ô∏è 1-2 days</span>
                <span style="background:var(--surface);padding:6px 12px;border-radius:6px;font-size:13px;font-weight:600;border:1px solid var(--warning);color:var(--warning);opacity:0.9">üìä CRITICAL</span>
              </div>
              <div style="color:var(--muted);line-height:1.6;font-size:14px">üí° <span data-en="Prevents bugs, enables safe refactoring" data-pt="Previne bugs, permite refatora√ß√£o segura">Prevents bugs, enables safe refactoring</span></div>
              
              <div class="mono" style="background:var(--bg);color:var(--text);border:1px solid var(--border);padding:12px 16px;border-radius:6px;font-size:13px;margin-top:12px;white-space:pre-wrap;overflow-x:auto;line-height:1.6;font-family:var(--mono)"># Install testing framework for your tech stack
# mkdir tests
# Create first test file</div>
                    
            </div>
                </div></details>
          <details style="margin-top:24px;border:1px solid var(--border);border-left:3px solid var(--accent);border-radius:8px;padding:16px;background:var(--surface-2)">
            <summary style="cursor:pointer;font-size:18px;font-weight:600;color:var(--accent)" data-en="üéØ P2: Strategic (1+ weeks) - Click to expand" data-pt="üéØ P2: Estrat√©gico (1+ semanas) - Clique para expandir">üéØ P2: Strategic (1+ weeks) - Click to expand</summary>
            <div style="margin-top:20px">
            
            <div class="callout" style="border-left:4px solid var(--accent);background:var(--surface);padding:20px;margin-top:16px;border-radius:8px">
              <div style="display:flex;align-items:center;gap:12px;margin-bottom:12px">
                <div style="border:1px solid var(--accent);color:var(--accent);width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:16px;flex-shrink:0;opacity:0.8">1</div>
                <div style="font-weight:600;font-size:18px;line-height:1.3"><span data-en="Add 5 documentation files (current: 0)" data-pt="Adicionar 5 arquivos de documenta√ß√£o (atual: 0)">Add 5 documentation files (current: 0)</span></div>
              </div>
              <div style="display:flex;gap:16px;flex-wrap:wrap;margin-bottom:8px">
                <span style="background:var(--surface);padding:6px 12px;border-radius:6px;font-size:13px;border:1px solid var(--border)">‚è±Ô∏è 1-2 weeks</span>
                <span style="background:var(--surface);padding:6px 12px;border-radius:6px;font-size:13px;font-weight:600;border:1px solid var(--accent);color:var(--accent);opacity:0.9">üìä LOW</span>
              </div>
              <div style="color:var(--muted);line-height:1.6;font-size:14px">üí° <span data-en="Increases documentation from 0 to 5 files" data-pt="Aumenta documenta√ß√£o de 0 para 5 arquivos">Increases documentation from 0 to 5 files</span></div>
              
              <div class="mono" style="background:var(--bg);color:var(--text);border:1px solid var(--border);padding:12px 16px;border-radius:6px;font-size:13px;margin-top:12px;white-space:pre-wrap;overflow-x:auto;line-height:1.6;font-family:var(--mono)"># Create essential documentation
touch README.md CONTRIBUTING.md CHANGELOG.md
mkdir docs && touch docs/ARCHITECTURE.md docs/API.md</div>
                    
            </div>
                </div></details></section>

        <section class="card">
          <h2 data-en="ü§ñ AI-Powered Purpose Analysis" data-pt="ü§ñ An√°lise de Prop√≥sito com IA">ü§ñ AI-Powered Purpose Analysis</h2>
          <div class="callout" style="background:var(--surface);border:1px solid var(--warning);border-left:4px solid var(--warning)">
            <p><strong data-en="‚ö†Ô∏è AI Analysis Not Available" data-pt="‚ö†Ô∏è An√°lise de IA N√£o Dispon√≠vel">‚ö†Ô∏è AI Analysis Not Available</strong></p>
            <p class="small" data-en="GPT-5 insights require Doppler configuration with OpenAI API key." data-pt="Insights do GPT-5 requerem configura√ß√£o do Doppler com chave da API OpenAI.">GPT-5 insights require Doppler configuration with OpenAI API key.</p>
            <ol style="margin:8px 0 0 16px;font-size:12px">
              <li>Install Doppler: <code class="mono">brew install doppler</code></li>
              <li>Configure API key: <code class="mono">doppler secrets set OPENAI_API_KEY="your-key" --project ai-tools --config dev</code></li>
              <li>Re-run analysis to get AI-powered insights</li>
            </ol>
            <p class="small" style="margin-top:8px"><strong data-en="Why enable this?" data-pt="Por que habilitar?">Why enable this?</strong> <span data-en="Get deep PURPOSE-DRIVEN insights about your project's meta-purpose, hidden patterns, and smart recommendations." data-pt="Obtenha insights ORIENTADOS A PROP√ìSITO sobre o meta-prop√≥sito do seu projeto, padr√µes ocultos e recomenda√ß√µes inteligentes.">Get deep PURPOSE-DRIVEN insights about your project's meta-purpose, hidden patterns, and smart recommendations.</span></p>
          </div>
        </section>
        

        <details style="margin-bottom:24px;border:1px solid var(--border);border-radius:8px;background:var(--surface)">
          <summary style="padding:12px 16px;background:var(--surface-2);border-radius:8px;font-weight:600;cursor:pointer;user-select:none;font-size:14px;color:var(--text-primary)">
            üé® <span data-en="OKLCH Color System Reference" data-pt="Refer√™ncia do Sistema de Cores OKLCH">OKLCH Color System Reference</span>
            <span style="float:right;font-size:12px;color:var(--muted)" data-en="(Click to expand)" data-pt="(Clique para expandir)">(Click to expand)</span>
          </summary>
          <div style="padding:16px">
        
            <div style="text-align:center;padding:12px;background:var(--surface-2);border-radius:6px;margin-bottom:16px">
              <span style="font-size:24px;font-weight:700;color:var(--accent)">23</span>
              <span style="font-size:13px;color:var(--muted);margin-left:8px" data-en="CSS Variables" data-pt="Vari√°veis CSS">CSS Variables</span>
            </div>
        
            <div style="margin-bottom:16px">
              <div style="font-size:12px;font-weight:700;color:var(--text-primary);margin-bottom:8px">Base (7)</div>
              <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:8px">
            
                <div style="display:flex;align-items:center;gap:8px;background:var(--surface-2);padding:6px 8px;border-radius:4px;border:1px solid var(--border)">
                  <div style="width:24px;height:24px;background:oklch(0.96 0.01 250);border-radius:3px;border:1px solid var(--border);flex-shrink:0"></div>
                  <div style="min-width:0;flex:1">
                    <div class="mono" style="font-size:10px;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis">--bg</div>
                  </div>
                </div>
                
                <div style="display:flex;align-items:center;gap:8px;background:var(--surface-2);padding:6px 8px;border-radius:4px;border:1px solid var(--border)">
                  <div style="width:24px;height:24px;background:oklch(1 0.01 250);border-radius:3px;border:1px solid var(--border);flex-shrink:0"></div>
                  <div style="min-width:0;flex:1">
                    <div class="mono" style="font-size:10px;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis">--surface</div>
                  </div>
                </div>
                
                <div style="display:flex;align-items:center;gap:8px;background:var(--surface-2);padding:6px 8px;border-radius:4px;border:1px solid var(--border)">
                  <div style="width:24px;height:24px;background:oklch(0.98 0.01 250);border-radius:3px;border:1px solid var(--border);flex-shrink:0"></div>
                  <div style="min-width:0;flex:1">
                    <div class="mono" style="font-size:10px;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis">--surface-2</div>
                  </div>
                </div>
                
                <div style="display:flex;align-items:center;gap:8px;background:var(--surface-2);padding:6px 8px;border-radius:4px;border:1px solid var(--border)">
                  <div style="width:24px;height:24px;background:oklch(0.15 0.02 250);border-radius:3px;border:1px solid var(--border);flex-shrink:0"></div>
                  <div style="min-width:0;flex:1">
                    <div class="mono" style="font-size:10px;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis">--text</div>
                  </div>
                </div>
                
                <div style="display:flex;align-items:center;gap:8px;background:var(--surface-2);padding:6px 8px;border-radius:4px;border:1px solid var(--border)">
                  <div style="width:24px;height:24px;background:oklch(0.45 0.02 250);border-radius:3px;border:1px solid var(--border);flex-shrink:0"></div>
                  <div style="min-width:0;flex:1">
                    <div class="mono" style="font-size:10px;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis">--muted</div>
                  </div>
                </div>
                
                <div style="display:flex;align-items:center;gap:8px;background:var(--surface-2);padding:6px 8px;border-radius:4px;border:1px solid var(--border)">
                  <div style="width:24px;height:24px;background:oklch(0.85 0.02 250);border-radius:3px;border:1px solid var(--border);flex-shrink:0"></div>
                  <div style="min-width:0;flex:1">
                    <div class="mono" style="font-size:10px;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis">--border</div>
                  </div>
                </div>
                
                <div style="display:flex;align-items:center;gap:8px;background:var(--surface-2);padding:6px 8px;border-radius:4px;border:1px solid var(--border)">
                  <div style="width:24px;height:24px;background:oklch(0.65 0.08 240);border-radius:3px;border:1px solid var(--border);flex-shrink:0"></div>
                  <div style="min-width:0;flex:1">
                    <div class="mono" style="font-size:10px;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis">--accent</div>
                  </div>
                </div>
                
              </div>
            </div>
            
            <div style="margin-bottom:16px">
              <div style="font-size:12px;font-weight:700;color:var(--text-primary);margin-bottom:8px">Temperature (6)</div>
              <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:8px">
            
                <div style="display:flex;align-items:center;gap:8px;background:var(--surface-2);padding:6px 8px;border-radius:4px;border:1px solid var(--border)">
                  <div style="width:24px;height:24px;background:oklch(38% 0.19 265);border-radius:3px;border:1px solid var(--border);flex-shrink:0"></div>
                  <div style="min-width:0;flex:1">
                    <div class="mono" style="font-size:10px;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis">--temp-cold</div>
                  </div>
                </div>
                
                <div style="display:flex;align-items:center;gap:8px;background:var(--surface-2);padding:6px 8px;border-radius:4px;border:1px solid var(--border)">
                  <div style="width:24px;height:24px;background:oklch(63% 0.23 255);border-radius:3px;border:1px solid var(--border);flex-shrink:0"></div>
                  <div style="min-width:0;flex:1">
                    <div class="mono" style="font-size:10px;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis">--temp-cool</div>
                  </div>
                </div>
                
                <div style="display:flex;align-items:center;gap:8px;background:var(--surface-2);padding:6px 8px;border-radius:4px;border:1px solid var(--border)">
                  <div style="width:24px;height:24px;background:oklch(73% 0.15 166);border-radius:3px;border:1px solid var(--border);flex-shrink:0"></div>
                  <div style="min-width:0;flex:1">
                    <div class="mono" style="font-size:10px;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis">--temp-neutral</div>
                  </div>
                </div>
                
                <div style="display:flex;align-items:center;gap:8px;background:var(--surface-2);padding:6px 8px;border-radius:4px;border:1px solid var(--border)">
                  <div style="width:24px;height:24px;background:oklch(72% 0.17 75);border-radius:3px;border:1px solid var(--border);flex-shrink:0"></div>
                  <div style="min-width:0;flex:1">
                    <div class="mono" style="font-size:10px;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis">--temp-warm</div>
                  </div>
                </div>
                
                <div style="display:flex;align-items:center;gap:8px;background:var(--surface-2);padding:6px 8px;border-radius:4px;border:1px solid var(--border)">
                  <div style="width:24px;height:24px;background:oklch(62% 0.26 25);border-radius:3px;border:1px solid var(--border);flex-shrink:0"></div>
                  <div style="min-width:0;flex:1">
                    <div class="mono" style="font-size:10px;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis">--temp-hot</div>
                  </div>
                </div>
                
                <div style="display:flex;align-items:center;gap:8px;background:var(--surface-2);padding:6px 8px;border-radius:4px;border:1px solid var(--border)">
                  <div style="width:24px;height:24px;background:oklch(58% 0.26 25);border-radius:3px;border:1px solid var(--border);flex-shrink:0"></div>
                  <div style="min-width:0;flex:1">
                    <div class="mono" style="font-size:10px;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis">--temp-very-hot</div>
                  </div>
                </div>
                
              </div>
            </div>
            
            <div style="margin-bottom:16px">
              <div style="font-size:12px;font-weight:700;color:var(--text-primary);margin-bottom:8px">GitHub (5)</div>
              <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:8px">
            
                <div style="display:flex;align-items:center;gap:8px;background:var(--surface-2);padding:6px 8px;border-radius:4px;border:1px solid var(--border)">
                  <div style="width:24px;height:24px;background:oklch(13% 0.01 260);border-radius:3px;border:1px solid var(--border);flex-shrink:0"></div>
                  <div style="min-width:0;flex:1">
                    <div class="mono" style="font-size:10px;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis">--github-none</div>
                  </div>
                </div>
                
                <div style="display:flex;align-items:center;gap:8px;background:var(--surface-2);padding:6px 8px;border-radius:4px;border:1px solid var(--border)">
                  <div style="width:24px;height:24px;background:oklch(27% 0.08 152);border-radius:3px;border:1px solid var(--border);flex-shrink:0"></div>
                  <div style="min-width:0;flex:1">
                    <div class="mono" style="font-size:10px;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis">--github-low</div>
                  </div>
                </div>
                
                <div style="display:flex;align-items:center;gap:8px;background:var(--surface-2);padding:6px 8px;border-radius:4px;border:1px solid var(--border)">
                  <div style="width:24px;height:24px;background:oklch(44% 0.13 155);border-radius:3px;border:1px solid var(--border);flex-shrink:0"></div>
                  <div style="min-width:0;flex:1">
                    <div class="mono" style="font-size:10px;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis">--github-med</div>
                  </div>
                </div>
                
                <div style="display:flex;align-items:center;gap:8px;background:var(--surface-2);padding:6px 8px;border-radius:4px;border:1px solid var(--border)">
                  <div style="width:24px;height:24px;background:oklch(65% 0.18 150);border-radius:3px;border:1px solid var(--border);flex-shrink:0"></div>
                  <div style="min-width:0;flex:1">
                    <div class="mono" style="font-size:10px;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis">--github-high</div>
                  </div>
                </div>
                
                <div style="display:flex;align-items:center;gap:8px;background:var(--surface-2);padding:6px 8px;border-radius:4px;border:1px solid var(--border)">
                  <div style="width:24px;height:24px;background:oklch(75% 0.20 145);border-radius:3px;border:1px solid var(--border);flex-shrink:0"></div>
                  <div style="min-width:0;flex:1">
                    <div class="mono" style="font-size:10px;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis">--github-max</div>
                  </div>
                </div>
                
              </div>
            </div>
            
            <div style="margin-bottom:16px">
              <div style="font-size:12px;font-weight:700;color:var(--text-primary);margin-bottom:8px">Plasma (5)</div>
              <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:8px">
            
                <div style="display:flex;align-items:center;gap:8px;background:var(--surface-2);padding:6px 8px;border-radius:4px;border:1px solid var(--border)">
                  <div style="width:24px;height:24px;background:oklch(25% 0.14 300);border-radius:3px;border:1px solid var(--border);flex-shrink:0"></div>
                  <div style="min-width:0;flex:1">
                    <div class="mono" style="font-size:10px;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis">--plasma-min</div>
                  </div>
                </div>
                
                <div style="display:flex;align-items:center;gap:8px;background:var(--surface-2);padding:6px 8px;border-radius:4px;border:1px solid var(--border)">
                  <div style="width:24px;height:24px;background:oklch(48% 0.10 240);border-radius:3px;border:1px solid var(--border);flex-shrink:0"></div>
                  <div style="min-width:0;flex:1">
                    <div class="mono" style="font-size:10px;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis">--plasma-low</div>
                  </div>
                </div>
                
                <div style="display:flex;align-items:center;gap:8px;background:var(--surface-2);padding:6px 8px;border-radius:4px;border:1px solid var(--border)">
                  <div style="width:24px;height:24px;background:oklch(70% 0.16 155);border-radius:3px;border:1px solid var(--border);flex-shrink:0"></div>
                  <div style="min-width:0;flex:1">
                    <div class="mono" style="font-size:10px;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis">--plasma-med</div>
                  </div>
                </div>
                
                <div style="display:flex;align-items:center;gap:8px;background:var(--surface-2);padding:6px 8px;border-radius:4px;border:1px solid var(--border)">
                  <div style="width:24px;height:24px;background:oklch(95% 0.16 100);border-radius:3px;border:1px solid var(--border);flex-shrink:0"></div>
                  <div style="min-width:0;flex:1">
                    <div class="mono" style="font-size:10px;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis">--plasma-high</div>
                  </div>
                </div>
                
                <div style="display:flex;align-items:center;gap:8px;background:var(--surface-2);padding:6px 8px;border-radius:4px;border:1px solid var(--border)">
                  <div style="width:24px;height:24px;background:oklch(98% 0.08 105);border-radius:3px;border:1px solid var(--border);flex-shrink:0"></div>
                  <div style="min-width:0;flex:1">
                    <div class="mono" style="font-size:10px;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis">--plasma-max</div>
                  </div>
                </div>
                
              </div>
            </div>
            
            <div style="margin-top:16px;padding:12px;background:var(--surface-2);border-radius:6px;border-left:3px solid var(--accent)">
              <div style="font-size:11px;color:var(--muted)" data-en="üí° OKLCH = Lightness, Chroma, Hue (perceptually uniform color space)" data-pt="üí° OKLCH = Luminosidade, Croma, Matiz (espa√ßo de cores perceptualmente uniforme)">
                üí° OKLCH = Lightness, Chroma, Hue (perceptually uniform color space)
              </div>
            </div>
          </div>
        </details>
        
</div>
<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// üóº MEGALITH LIGHTHOUSE NAVIGATION SYSTEM
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

// üìö Navigation Functions for MEGALITH INDEX
function scrollToSection(sectionId) {
  const element = document.getElementById(sectionId);
  if (element) {
    element.scrollIntoView({ behavior: 'smooth', block: 'start' });
    // Highlight the section temporarily
    element.style.transition = 'background-color 0.3s';
    element.style.backgroundColor = 'var(--accent)';
    element.style.color = 'white';
    setTimeout(() => {
      element.style.backgroundColor = '';
      element.style.color = '';
    }, 1000);
  }
}

function expandAllSections() {
  const details = document.querySelectorAll('details');
  details.forEach(detail => detail.open = true);
}

function collapseAllSections() {
  const details = document.querySelectorAll('details');
  details.forEach(detail => detail.open = false);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// üåê LANGUAGE & THEME SYSTEM - Enhanced with Smooth Transitions
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

// üõ°Ô∏è DIAGNOSTIC & ERROR HANDLING SYSTEM
const Diagnostics = {
  enabled: true,
  log(category, message, data) {
    if (this.enabled) console.log(`[${category}] ${message}`, data || '');
  },
  error(category, message, error) {
    console.error(`[${category}] ‚ùå ${message}`, error);
  },
  test(name, condition, failMsg) {
    const passed = typeof condition === 'function' ? condition() : condition;
    if (passed) {
      console.log(`‚úÖ ${name}`);
    } else {
      console.error(`‚ùå ${name}: ${failMsg || 'Failed'}`);
    }
    return passed;
  }
};

// Safe localStorage access
const SafeStorage = {
  get(key, defaultValue) {
    try {
      return localStorage.getItem(key) || defaultValue;
    } catch(e) {
      Diagnostics.error('Storage', 'localStorage.getItem failed', e);
      return defaultValue;
    }
  },
  set(key, value) {
    try {
      localStorage.setItem(key, value);
      return true;
    } catch(e) {
      Diagnostics.error('Storage', 'localStorage.setItem failed', e);
      return false;
    }
  }
};

let currentLang = SafeStorage.get('preferred-lang', 'en');
let currentTheme = SafeStorage.get('preferred-theme', 'dark');

// Apply language instantly (no animation, no notification)
function applyLanguage(lang) {
  document.querySelectorAll('[data-en]').forEach(el => {
    el.textContent = lang === 'pt' ? el.getAttribute('data-pt') : el.getAttribute('data-en');
  });
  currentLang = lang;
}

// Apply theme instantly (no animation, no notification)
function applyTheme(theme) {
  document.documentElement.setAttribute('data-theme', theme);
  currentTheme = theme;
}

// Update button labels to show current state
function updateButtonLabels() {
  const themeBtn = document.getElementById('theme-toggle-btn');
  const langBtn = document.getElementById('lang-toggle-btn');
  
  if (themeBtn) {
    themeBtn.textContent = currentTheme === 'dark' ? 'üåô Dark' : '‚òÄÔ∏è Light';
    themeBtn.style.background = currentTheme === 'dark' ? 'oklch(20% 0.01 264)' : 'oklch(98% 0.01 100)';
    themeBtn.style.color = currentTheme === 'dark' ? 'oklch(95% 0.008 264)' : 'oklch(15% 0.008 100)';
  }
  
  if (langBtn) {
    langBtn.textContent = currentLang === 'en' ? 'üåê EN' : 'üåê PT';
  }
}

// Toggle language - INSTANT with button state feedback
function toggleLanguage() {
  const newLang = currentLang === 'en' ? 'pt' : 'en';
  applyLanguage(newLang);
  localStorage.setItem('preferred-lang', newLang);
  updateButtonLabels();  // Update button to show new state
}

// Toggle theme - INSTANT with button state feedback
function toggleTheme() {
  const newTheme = currentTheme === 'light' ? 'dark' : 'light';
  applyTheme(newTheme);
  localStorage.setItem('preferred-theme', newTheme);
  updateButtonLabels();  // Update button to show new state
}

// Apply saved settings on page load
document.addEventListener('DOMContentLoaded', function() {
  Diagnostics.log('Init', 'üöÄ Initializing HTML Report...');
  
  // Test 1: Core functions exist
  Diagnostics.test('applyLanguage exists', typeof applyLanguage === 'function');
  Diagnostics.test('applyTheme exists', typeof applyTheme === 'function');
  
  // Apply saved settings
  applyLanguage(currentLang);
  applyTheme(currentTheme);
  updateButtonLabels();
  
  // Test 2: Settings panel
  const settingsPanel = document.getElementById('settings-panel');
  Diagnostics.test('Settings panel exists', settingsPanel !== null);
  
  // Initialize settings panel active states
  const savedSchema = SafeStorage.get('calendarColorSchema', 'temperature');
  Diagnostics.log('ColorSchema', 'Loaded saved schema:', savedSchema);
  
  if (typeof updateSchemaButtons === 'function') {
    updateSchemaButtons(savedSchema);
  }
  
  document.getElementById('lang-' + currentLang)?.classList.add('active');
  document.getElementById('theme-' + currentTheme)?.classList.add('active');
  
  // Test 3: Calendar elements
  const calendarDays = document.querySelectorAll('.calendar-day');
  Diagnostics.test('Calendar days rendered', calendarDays.length > 0, `Found ${calendarDays.length} days`);
  if (calendarDays.length > 0) {
    const firstDay = calendarDays[0];
    Diagnostics.log('Calendar', 'First day background:', getComputedStyle(firstDay).background);
  }
  
  // Test 4: File explorers
  const fileExplorers = document.querySelectorAll('[data-en="Files Edited in This Session"]');
  Diagnostics.log('FileExplorer', `Found ${fileExplorers.length} file explorer sections`);
  
  Diagnostics.log('Init', '‚úÖ Initialization complete');
});

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// ‚öôÔ∏è SETTINGS PANEL SYSTEM
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

// üé® COLOR SCHEMA SWITCHER (Early declaration for settings panel buttons)
// This stub will be replaced by the full implementation later in the script
window.pendingSchemaChange = null;
function switchColorSchema(schemaName) {
  // Store pending change
  window.pendingSchemaChange = schemaName;
  Diagnostics.log('ColorSchema', '‚è≥ Schema change queued:', schemaName);
  
  // Try to apply immediately if function exists
  if (typeof window.applyColorSchemaAnimated === 'function') {
    window.applyColorSchemaAnimated(schemaName);
  } else {
    // Will be applied when full system loads
    Diagnostics.log('ColorSchema', '‚è∏Ô∏è  Waiting for color system to load...');
  }
}

// Toggle settings panel open/close
function toggleSettings() {
  const panel = document.getElementById('settings-panel');
  panel.classList.toggle('open');
}

// Close settings panel
function closeSettings() {
  const panel = document.getElementById('settings-panel');
  panel.classList.remove('open');
}

// Click outside to close panel
document.addEventListener('click', (e) => {
  const root = document.getElementById('settings-root');
  const panel = document.getElementById('settings-panel');
  if (root && !root.contains(e.target) && panel?.classList.contains('open')) {
    closeSettings();
  }
});

// Language selection from settings panel
function selectLang(lang) {
  applyLanguage(lang);
  localStorage.setItem('preferred-lang', lang);
  currentLang = lang;
  
  // Update active states
  document.querySelectorAll('[id^="lang-"]').forEach(btn => btn.classList.remove('active'));
  document.getElementById('lang-' + lang)?.classList.add('active');
}

// Theme selection from settings panel
function selectTheme(theme) {
  applyTheme(theme);
  localStorage.setItem('preferred-theme', theme);
  currentTheme = theme;
  
  // Update active states
  document.querySelectorAll('[id^="theme-"]').forEach(btn => btn.classList.remove('active'));
  document.getElementById('theme-' + theme)?.classList.add('active');
}

// Update schema button active states
function updateSchemaButtons(schema) {
  document.querySelectorAll('.schema-btn').forEach(btn => btn.classList.remove('active'));
  const schemaPrefix = schema.substring(0, 4);
  document.getElementById('schema-' + schemaPrefix)?.classList.add('active');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// ü§ñ AI AGENT INSTRUCTION GENERATOR - LLM-ORIENTED COPY-PASTE SYSTEM
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

// Copy individual action instructions (fine-grained task)
async function copyActionInstructions(actionElement) {
  try {
    const priority = actionElement.dataset.priority;
    const title = actionElement.dataset.title;
    const effort = actionElement.dataset.effort;
    const impact = actionElement.dataset.impact;
    const benefit = actionElement.dataset.benefit;
    const command = actionElement.dataset.command.replace(/&quot;/g, '\"');
    
    const prompt = `# TASK: ${title}

## CONTEXT
- Priority: ${priority} (${priority === 'P0' ? 'Quick Win' : priority === 'P1' ? 'High Priority' : 'Strategic'})\n- Time: ${effort}
- Impact: ${impact}
- Benefit: ${benefit}

## OBJECTIVE
${title}

## COMMANDS TO EXECUTE
\`\`\`bash
${command}
\`\`\`

## SUCCESS CRITERIA
- [ ] Command executed without errors
- [ ] Changes verified manually
- [ ] Project state improved as expected

## DEFINITION OF DONE
Re-run analysis and verify the issue is resolved.

## SAFETY CHECKLIST
- [ ] Reviewed what files/folders will be affected
- [ ] Backed up critical data if needed
- [ ] Tested command in safe environment first
- [ ] Ready to execute with confidence
`;

    await navigator.clipboard.writeText(prompt);
    showCopyNotification('Action copied! Paste to your AI agent.');
  } catch (error) {
    Diagnostics.error('Clipboard', 'Copy failed', error);
    alert('Copy failed. Please select and copy manually.');
  }
}

// Copy complete master instructions (all actions as structured task list)
async function copyMasterInstructions() {
  try {
    const allActions = document.querySelectorAll('.action-item');
    const projectName = document.querySelector('header div').textContent;
    const healthScore = document.querySelector('.metric-value').textContent;
    
    let prompt = `# COMPLETE PROJECT REMEDIATION INSTRUCTIONS FOR AI AGENT

## PROJECT CONTEXT
- Project: ${projectName}
- Current Health Score: ${healthScore}
- Target: 85.0/100
- Gap: Need significant improvement
- Generated: ${new Date().toISOString()}

## EXECUTIVE SUMMARY
This project needs remediation across multiple areas. The tasks below are prioritized
by impact and effort. Complete P0 tasks first for quick wins, then proceed to P1 and P2.

## COMPLETE TASK LIST
\n`;

    // Collect all actions by priority
    const p0Actions = [];
    const p1Actions = [];
    const p2Actions = [];

    allActions.forEach((action, index) => {
      const priority = action.dataset.priority;
      const actionData = {
        number: index + 1,
        title: action.dataset.title,
        effort: action.dataset.effort,
        impact: action.dataset.impact,
        benefit: action.dataset.benefit,
        command: action.dataset.command.replace(/&quot;/g, '\"')
      };

      if (priority === 'P0') p0Actions.push(actionData);
      else if (priority === 'P1') p1Actions.push(actionData);
      else if (priority === 'P2') p2Actions.push(actionData);
    });

    // Generate P0 section
    if (p0Actions.length > 0) {
      prompt += `### P0: QUICK WINS (Execute First - 15-30 min each)\n\n`;
      p0Actions.forEach((action, i) => {
        prompt += `- [ ] **Task P0-${i+1}:** ${action.title}\n`;
        prompt += `      \n`;
        prompt += `      **Time:** ${action.effort} | **Impact:** ${action.impact}\n`;
        prompt += `      **Benefit:** ${action.benefit}\n`;
        prompt += `      \n`;
        prompt += `      **Commands:**\n`;
        prompt += `      \`\`\`bash\n`;
        prompt += `      ${action.command}\n`;
        prompt += `      \`\`\`\n`;
        prompt += `      \n`;
        prompt += `      **Success Criteria:**\n`;
        prompt += `      - [ ] Command executed successfully\n`;
        prompt += `      - [ ] Changes verified\n`;
        prompt += `      - [ ] No unintended side effects\n`;
        prompt += `      \n`;
      });
      prompt += `\n`;
    }

    // Generate P1 section
    if (p1Actions.length > 0) {
      prompt += `### P1: HIGH PRIORITY (Complete This Week - 1-2 days each)\n\n`;
      p1Actions.forEach((action, i) => {
        prompt += `- [ ] **Task P1-${i+1}:** ${action.title}\n`;
        prompt += `      **Time:** ${action.effort} | **Impact:** ${action.impact}\n`;
        prompt += `      **Benefit:** ${action.benefit}\n`;
        if (action.command) {
          prompt += `      **Commands:** \`${action.command.substring(0, 50)}...\`\n`;
        }
        prompt += `      \n`;
      });
      prompt += `\n`;
    }

    // Generate P2 section
    if (p2Actions.length > 0) {
      prompt += `### P2: STRATEGIC (Plan for Next Month - 1+ weeks each)\n\n`;
      p2Actions.forEach((action, i) => {
        prompt += `- [ ] **Task P2-${i+1}:** ${action.title}\n`;
        prompt += `      **Benefit:** ${action.benefit}\n`;
        prompt += `      \n`;
      });
    }

    prompt += `\n## EXECUTION GUIDELINES\n\n`;
    prompt += `1. **Start with P0** - Quick wins build momentum\n`;
    prompt += `2. **Verify each task** - Check success criteria before moving on\n`;
    prompt += `3. **Re-run analysis** - After P0 completion to see score improvement\n`;
    prompt += `4. **Document changes** - Keep track of what was modified\n`;
    prompt += `5. **Test thoroughly** - Ensure no regressions introduced\n`;
    prompt += `\n`;
    prompt += `## FINAL VALIDATION\n\n`;
    prompt += `After completing all tasks, re-run the project analysis:\n`;
    prompt += `\`\`\`bash\n`;
    prompt += `python3 mr-fix-my-project-please.py .\n`;
    prompt += `\`\`\`\n`;
    prompt += `\n`;
    prompt += `Expected: Health score ‚â• 85.0/100\n`;

    await navigator.clipboard.writeText(prompt);
    showCopyNotification(`‚úÖ Complete task list copied! (${allActions.length} actions)`);
  } catch (error) {
    Diagnostics.error('Clipboard', 'Master copy failed', error);
    alert('Copy failed. Please try again or copy manually.');
  }
}

// Show copy notification
function showCopyNotification(message) {
  const notification = document.createElement('div');
  notification.style.cssText = `
    position: fixed;
    top: 20px;
    right: 20px;
    padding: 16px 24px;
    background: var(--success);
    color: white;
    border-radius: 8px;
    font-weight: 600;
    font-size: 14px;
    box-shadow: 0 8px 24px var(--black-50);
    z-index: 10000;
    animation: slideIn 0.3s ease-out;
  `;
  notification.textContent = message;
  document.body.appendChild(notification);
  
  setTimeout(() => {
    notification.style.animation = 'slideOut 0.3s ease-in';
    setTimeout(() => notification.remove(), 300);
  }, 3000);
}

// Dependency Map Functions
function copyMermaidCode() {
  try {
    const mermaidContainer = document.querySelector('#dependency-mermaid');
    if (mermaidContainer) {
      const mermaidCode = mermaidContainer.textContent.trim();
      navigator.clipboard.writeText(mermaidCode);
      showCopyNotification('‚úÖ Mermaid code copied to clipboard!');
    }
  } catch (error) {
    console.error('Failed to copy Mermaid code:', error);
    alert('Failed to copy Mermaid code. Please try again.');
  }
}

function exportDependencyMap() {
  try {
    const mermaidContainer = document.querySelector('#dependency-mermaid');
    const statsCards = document.querySelectorAll('.dependency-stats .stat-card');
    
    let exportContent = '# Dependency Analysis Export\n\n';
    
    // Add statistics
    if (statsCards.length > 0) {
      exportContent += '## Statistics\n\n';
      statsCards.forEach(card => {
        const value = card.querySelector('div:first-child').textContent;
        const label = card.querySelector('div:last-child').textContent;
        exportContent += `- **${label}**: ${value}\n`;
      });
      exportContent += '\n';
    }
    
    // Add Mermaid diagram
    if (mermaidContainer) {
      exportContent += '## Mermaid Dependency Diagram\n\n```mermaid\n';
      exportContent += mermaidContainer.textContent.trim();
      exportContent += '\n```\n';
    }
    
    // Add recommendations
    const recommendations = document.querySelectorAll('.recommendation');
    if (recommendations.length > 0) {
      exportContent += '\n## Recommendations\n\n';
      recommendations.forEach((rec, index) => {
        exportContent += `${index + 1}. ${rec.textContent.trim()}\n`;
      });
    }
    
    // Create and download file
    const blob = new Blob([exportContent], { type: 'text/markdown' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'dependency-analysis.md';
    a.click();
    URL.revokeObjectURL(url);
    
    showCopyNotification('‚úÖ Dependency analysis exported!');
  } catch (error) {
    console.error('Failed to export dependency map:', error);
    alert('Failed to export dependency map. Please try again.');
  }
}

function regenerateDependencyMap() {
  try {
    // Reload the page to regenerate the dependency map
    window.location.reload();
  } catch (error) {
    console.error('Failed to regenerate dependency map:', error);
    alert('Failed to regenerate dependency map. Please refresh the page.');
  }
}

// Initialize Mermaid when page loads
document.addEventListener('DOMContentLoaded', function() {
  // Check if Mermaid is available
  if (typeof mermaid !== 'undefined') {
    try {
      mermaid.initialize({
        startOnLoad: true,
        theme: 'default',
        themeVariables: {
          primaryColor: '#4f46e5',
          primaryTextColor: '#ffffff',
          primaryBorderColor: '#312e81',
          lineColor: '#6b7280',
          secondaryColor: '#059669',
          tertiaryColor: '#6b7280'
        },
        flowchart: {
          useMaxWidth: true,
          htmlLabels: true,
          curve: 'basis'
        }
      });
      console.log('Mermaid initialized successfully');
    } catch (error) {
      console.error('Failed to initialize Mermaid:', error);
    }
  } else {
    console.warn('Mermaid library not found');
  }
});

</script>
</body>
</html>