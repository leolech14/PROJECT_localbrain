<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Enhanced Project Analysis Report - LocalBrain</title>
<style>
  :root {
    --primary: oklch(0.65 0.080 240);
    --secondary: oklch(0.55 0.060 280);
    --success: oklch(0.65 0.080 142);
    --warning: oklch(0.75 0.080 60);
    --danger: oklch(0.65 0.080 20);
    --info: oklch(0.65 0.080 200);
    --surface: oklch(0.98 0.010 250);
    --surface_2: oklch(0.95 0.010 250);
    --text: oklch(0.15 0.020 250);
    --muted: oklch(0.45 0.020 250);
    --border: oklch(0.85 0.020 250);
    --calendar_today: oklch(0.65 0.080 240);
    --calendar_weekend: oklch(0.45 0.020 250);
    --calendar_active: oklch(0.55 0.060 280);
    --calendar_bg: oklch(0.98 0.010 250);
    --calendar_border: oklch(0.85 0.020 250);
    --timeline_dot: oklch(0.65 0.080 240);
    --timeline_line: oklch(0.85 0.020 250);
    --timeline_text: oklch(0.15 0.020 250);
    --timeline_background: oklch(0.95 0.010 250);
    --tooltip_bg: oklch(0.15 0.020 250);
    --tooltip_text: oklch(0.98 0.010 250);
    --tooltip_border: oklch(0.85 0.020 250);
  }
/* Enhanced Global Styles */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, sans-serif;
    line-height: 1.6;
    color: var(--text);
    background: var(--bg);
    transition: all 0.3s ease;
}

.main-content {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

/* Responsive Design */
@media (max-width: 768px) {
    .main-content {
        padding: 16px;
    }
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        transition-duration: 0.01ms !important;
    }
}
</style>
<script>
// Enhanced JavaScript for centralized architecture
window.centralizedArchitecture = {
    colorManager: window.colorManager,
    componentRegistry: window.componentRegistry,
    enhancedMode: true
};

console.log('Enhanced HTML with centralized architecture loaded');
</script>
</head>
<body>

<header class="page-header">
    <div class="header-content">
        <h1>Enhanced Project Analysis Report</h1>
        <div class="header-controls">
            <!-- Language Toggle -->
            <!-- Component: language_toggle -->
<div class="language-toggle" id="language-toggle">
    <button class="lang-btn active" data-lang="en">EN</button>
    <div class="lang-divider"></div>
    <button class="lang-btn" data-lang="pt">PT</button>
</div>

<style>
.language-toggle {
    position: fixed;
    top: 20px;
    left: 20px;
    background: var(--surface_2);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 4px;
    display: flex;
    align-items: center;
    z-index: 1000;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.lang-btn {
    background: transparent;
    border: none;
    padding: 8px 12px;
    font-size: 14px;
    font-weight: 600;
    color: var(--muted);
    cursor: pointer;
    border-radius: 6px;
    transition: all 0.2s ease;
}

.lang-btn.active {
    background: var(--primary);
    color: white;
    font-weight: 500;
}

.lang-divider {
    width: 1px;
    height: 20px;
    background: var(--border);
    margin: 0 2px;
}
</style>

<script>
class LanguageToggle {
    constructor() {
        this.currentLang = localStorage.getItem('language') || 'en';
        this.init();
    }

    init() {
        this.attachEventListeners();
        this.setLanguage(this.currentLang);
    }

    attachEventListeners() {
        document.querySelectorAll('.lang-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const lang = e.target.dataset.lang;
                this.setLanguage(lang);
            });
        });
    }

    setLanguage(lang) {
        this.currentLang = lang;
        localStorage.setItem('language', lang);

        document.querySelectorAll('.lang-btn').forEach(btn => {
            btn.classList.toggle('active', btn.dataset.lang === lang);
        });

        // Update page content
        document.querySelectorAll('[data-en][data-pt]').forEach(element => {
            const text = lang === 'en' ? element.dataset.en : element.dataset.pt;
            if (text) element.textContent = text;
        });

        document.documentElement.lang = lang;
    }
}

document.addEventListener('DOMContentLoaded', () => {
    window.languageToggle = new LanguageToggle();
});
</script>
<!-- End Component: language_toggle -->

            <!-- Theme Toggle -->
            <!-- Component: theme_toggle -->
<div class="theme-toggle" id="theme-toggle">
    <button class="theme-btn" id="theme-btn" aria-label="Toggle theme">
        <span class="theme-icon" id="theme-icon">üåô</span>
    </button>
</div>

<style>
.theme-toggle {
    position: fixed;
    top: 20px;
    left: 80px;
    background: var(--surface_2);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 8px;
    z-index: 1000;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.theme-btn {
    background: transparent;
    border: none;
    padding: 8px;
    cursor: pointer;
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.theme-icon {
    font-size: 18px;
    transition: transform 0.3s ease;
}
</style>

<script>
class ThemeToggle {
    constructor() {
        this.currentTheme = localStorage.getItem('theme') ||
                         (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
        this.init();
    }

    init() {
        this.attachEventListeners();
        this.setTheme(this.currentTheme);
    }

    attachEventListeners() {
        document.getElementById('theme-btn').addEventListener('click', () => {
            this.toggleTheme();
        });
    }

    toggleTheme() {
        const newTheme = this.currentTheme === 'light' ? 'dark' : 'light';
        this.setTheme(newTheme);
    }

    setTheme(theme) {
        this.currentTheme = theme;

        if (theme === 'dark') {
            document.documentElement.classList.add('dark-theme');
            document.documentElement.style.setProperty('--bg', 'oklch(0.12 0.01 250)');
            document.documentElement.style.setProperty('--surface', 'oklch(0.15 0.01 250)');
        } else {
            document.documentElement.classList.remove('dark-theme');
            document.documentElement.style.setProperty('--bg', 'oklch(0.96 0.01 250)');
            document.documentElement.style.setProperty('--surface', 'oklch(1 0.01 250)');
        }

        localStorage.setItem('theme', theme);
        this.updateIcon();
    }

    updateIcon() {
        const icon = document.getElementById('theme-icon');
        if (icon) {
            icon.textContent = this.currentTheme === 'light' ? 'üåô' : '‚òÄÔ∏è';
        }
    }
}

document.addEventListener('DOMContentLoaded', () => {
    window.themeToggle = new ThemeToggle();
});
</script>
<!-- End Component: theme_toggle -->

            <!-- Settings Panel -->
            <!-- Component: settings_panel -->
<div class="settings-panel" id="settings-panel">
    <button class="settings-btn" id="settings-btn" aria-label="Settings">
        ‚öôÔ∏è
    </button>
    <div class="settings-dropdown" id="settings-dropdown">
        <div class="settings-content">
            <h4>Settings</h4>
            <div class="setting-item">
                <label>Color Schema</label>
                <select id="color-schema-select">
                    <option value="temperature">Temperature</option>
                    <option value="github">GitHub</option>
                    <option value="plasma">Plasma</option>
                </select>
            </div>
            <div class="setting-item">
                <label>Show Tooltips</label>
                <input type="checkbox" id="show-tooltips" checked>
            </div>
        </div>
    </div>
</div>

<style>
.settings-panel {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 1000;
}

.settings-btn {
    background: var(--primary);
    border: none;
    border-radius: 50%;
    width: 56px;
    height: 56px;
    font-size: 24px;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    transition: all 0.2s ease;
}

.settings-btn:hover {
    transform: scale(1.1);
}

.settings-dropdown {
    position: absolute;
    bottom: 70px;
    right: 0;
    background: var(--surface_2);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 16px;
    min-width: 200px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    display: none;
}

.settings-dropdown.show {
    display: block;
}

.setting-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 8px 0;
}

.setting-item label {
    font-size: 14px;
    color: var(--text);
}

.setting-item select,
.setting-item input[type="checkbox"] {
    padding: 4px 8px;
    border: 1px solid var(--border);
    border-radius: 4px;
    background: var(--surface);
    color: var(--text);
}
</style>

<script>
class SettingsPanel {
    constructor() {
        this.isOpen = false;
        this.init();
    }

    init() {
        this.attachEventListeners();
    }

    attachEventListeners() {
        const btn = document.getElementById('settings-btn');
        const dropdown = document.getElementById('settings-dropdown');

        btn?.addEventListener('click', () => {
            this.toggle();
        });

        document.addEventListener('click', (e) => {
            if (!e.target.closest('.settings-panel')) {
                this.close();
            }
        });

        // Color schema change
        document.getElementById('color-schema-select')?.addEventListener('change', (e) => {
            this.changeColorSchema(e.target.value);
        });
    }

    toggle() {
        this.isOpen = !this.isOpen;
        const dropdown = document.getElementById('settings-dropdown');
        dropdown?.classList.toggle('show', this.isOpen);
    }

    close() {
        this.isOpen = false;
        const dropdown = document.getElementById('settings-dropdown');
        dropdown?.classList.remove('show');
    }

    changeColorSchema(schema) {
        // This would integrate with the color manager
        console.log('Changing color schema to:', schema);
        // In a real implementation, this would trigger color schema change
    }
}

document.addEventListener('DOMContentLoaded', () => {
    window.settingsPanel = new SettingsPanel();
});
</script>
<!-- End Component: settings_panel --></div>
    </div>
</header>

<style>
.page-header {
    background: var(--surface);
    border-bottom: 1px solid var(--border);
    padding: 16px 0;
    position: sticky;
    top: 0;
    z-index: 100;
}

.header-content {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 16px;
}

.header-content h1 {
    font-size: 1.8rem;
    font-weight: 700;
    color: var(--text);
}

.header-controls {
    display: flex;
    gap: 12px;
    align-items: center;
}
</style>
<main class='main-content'>
<!-- Component: activity_calendar -->
<div class="activity-calendar" id="activity-calendar">
    <div class="calendar-header">
        <h2>Activity Calendar</h2>
        <div class="calendar-controls">
            <button class="calendar-nav" id="calendar-prev">‚Äπ</button>
            <span class="calendar-current-month" id="current-month">October 2025</span>
            <button class="calendar-nav" id="calendar-next">‚Ä∫</button>
        </div>
    </div>
    <div class="calendar-grid" id="calendar-grid">
        <div class="calendar-weekdays">
            <div class="weekday">Mon</div>
            <div class="weekday">Tue</div>
            <div class="weekday">Wed</div>
            <div class="weekday">Thu</div>
            <div class="weekday">Fri</div>
            <div class="weekday weekend">Sat</div>
            <div class="weekday weekend">Sun</div>
        </div>
        <div class="calendar-days" id="calendar-days">
            <!-- 56 days will be generated by JavaScript -->
        </div>
    </div>
</div>

<style>
.activity-calendar {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 24px;
    margin: 20px 0;
}

.calendar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.calendar-nav {
    background: var(--surface_2);
    border: 1px solid var(--border);
    border-radius: 6px;
    width: 36px;
    height: 36px;
    cursor: pointer;
    font-size: 18px;
    color: var(--text);
}

.calendar-days {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 8px;
}

.calendar-day {
    aspect-ratio: 1;
    background: var(--surface_2);
    border: 1px solid var(--border);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
    color: var(--text);
}

.calendar-day:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.calendar-day.today {
    background: var(--primary);
    color: white;
    font-weight: 600;
}

.calendar-day.has-activity::after {
    content: '';
    position: absolute;
    bottom: 4px;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: var(--success);
}
</style>

<script>
class ActivityCalendar {
    constructor() {
        this.currentDate = new Date();
        this.init();
    }

    init() {
        this.render();
        this.attachEventListeners();
    }

    render() {
        this.updateHeader();
        this.generateCalendarDays();
    }

    updateHeader() {
        const monthElement = document.getElementById('current-month');
        const monthNames = ['January', 'February', 'March', 'April', 'May', 'June',
                          'July', 'August', 'September', 'October', 'November', 'December'];
        monthElement.textContent = `${monthNames[this.currentDate.getMonth()]} ${this.currentDate.getFullYear()}`;
    }

    generateCalendarDays() {
        const daysContainer = document.getElementById('calendar-days');
        daysContainer.innerHTML = '';

        const today = new Date();
        const year = this.currentDate.getFullYear();
        const month = this.currentDate.getMonth();

        // Generate 56 days (8 weeks)
        for (let i = 0; i < 56; i++) {
            const dayElement = document.createElement('div');
            dayElement.className = 'calendar-day';

            const dayNum = i + 1;
            dayElement.textContent = dayNum;
            dayElement.dataset.date = `${year}-${String(month + 1).padStart(2, '0')}-${String(dayNum).padStart(2, '0')}`;

            // Check if today
            if (dayNum === today.getDate() && month === today.getMonth() && year === today.getFullYear()) {
                dayElement.classList.add('today');
            }

            // Simulate activity levels
            const activityLevel = [0, 2, 5, 8, 3, 6, 9, 1, 4, 7, 2, 5, 8, 3, 6, 0, 4, 7, 1, 5, 9, 2, 6, 8, 3, 7, 4, 1, 5, 9, 2, 6, 0, 3, 7, 1, 4, 8, 2, 5, 9, 3, 6, 0, 4, 7, 1, 5, 8, 2, 6, 9, 3, 7, 4][i % 60];
            if (activityLevel > 0) {
                dayElement.classList.add('has-activity');
            }

            daysContainer.appendChild(dayElement);
        }
    }

    attachEventListeners() {
        document.getElementById('calendar-prev').addEventListener('click', () => {
            this.currentDate.setMonth(this.currentDate.getMonth() - 1);
            this.render();
        });

        document.getElementById('calendar-next').addEventListener('click', () => {
            this.currentDate.setMonth(this.currentDate.getMonth() + 1);
            this.render();
        });
    }
}

document.addEventListener('DOMContentLoaded', () => {
    window.activityCalendar = new ActivityCalendar();
});
</script>
<!-- End Component: activity_calendar -->
<!-- Component: project_sessions_timeline -->
<div class="project-sessions-timeline" id="project-sessions-timeline">
    <div class="timeline-header">
        <h2>Project Sessions Timeline</h2>
    </div>
    <div class="timeline-container" id="timeline-container">
        <div class="timeline-sessions" id="timeline-sessions">
            <!-- Session elements will be generated by JavaScript -->
        </div>
    </div>
</div>

<style>
.project-sessions-timeline {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 24px;
    margin: 20px 0;
}

.timeline-container {
    position: relative;
    margin: 32px 0;
    padding-left: 40px;
}

.timeline-container::before {
    content: '';
    position: absolute;
    left: 20px;
    top: 0;
    bottom: 0;
    width: 2px;
    background: linear-gradient(to bottom, var(--primary), var(--secondary));
}

.session-item {
    position: relative;
    margin-bottom: 24px;
    padding: 16px 20px;
    background: var(--surface_2);
    border: 1px solid var(--border);
    border-radius: 12px;
    transition: all 0.3s ease;
}

.session-item:hover {
    transform: translateX(8px);
    box-shadow: 0 4px 16px rgba(0,0,0,0.1);
}

.session-item::before {
    content: '';
    position: absolute;
    left: -52px;
    top: 20px;
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: var(--primary);
    border: 3px solid var(--surface);
}
</style>

<script>
class ProjectSessionsTimeline {
    constructor() {
        this.sessions = [];
        this.init();
    }

    init() {
        this.loadSessions();
        this.render();
    }

    loadSessions() {
        // Generate sample sessions with realistic data
        const sessionNames = [
            'Database Schema Optimization', 'Frontend Component Refactoring', 'API Integration',
            'Bug Fixes & Testing', 'Documentation Update', 'Performance Analysis',
            'Security Audit', 'UI/UX Improvements', 'Code Review', 'Deployment Setup'
        ];

        this.sessions = sessionNames.map((title, index) => ({
            id: index + 1,
            title: title,
            start: new Date(Date.now() - (index * 24 * 60 * 60 * 1000)).toISOString(),
            duration: Math.floor(Math.random() * 180) + 30,
            fileCount: Math.floor(Math.random() * 25) + 1,
            type: ['development', 'analysis', 'documentation'][index % 3],
            description: `Session focused on ${title.toLowerCase()} with multiple file changes.`
        }));
    }

    render() {
        const container = document.getElementById('timeline-sessions');
        container.innerHTML = '';

        this.sessions.forEach(session => {
            const sessionElement = this.createSessionElement(session);
            container.appendChild(sessionElement);
        });
    }

    createSessionElement(session) {
        const element = document.createElement('div');
        element.className = 'session-item';

        const startTime = new Date(session.start);
        const durationHours = Math.floor(session.duration / 60);
        const durationMinutes = session.duration % 60;
        const durationText = durationHours > 0 ?
            `${durationHours}h ${durationMinutes}min` :
            `${durationMinutes}min`;

        element.innerHTML = `
            <div class="session-header">
                <div class="session-title">${session.title}</div>
                <div class="session-time">${startTime.toLocaleDateString()} ${startTime.toLocaleTimeString()}</div>
            </div>
            <div class="session-details">
                <div class="session-detail">
                    <div class="session-detail-value">${durationText}</div>
                    <div class="session-detail-label">Duration</div>
                </div>
                <div class="session-detail">
                    <div class="session-detail-value">${session.fileCount}</div>
                    <div class="session-detail-label">Files</div>
                </div>
            </div>
        `;

        return element;
    }
}

document.addEventListener('DOMContentLoaded', () => {
    window.projectSessionsTimeline = new ProjectSessionsTimeline();
});
</script>
<!-- End Component: project_sessions_timeline -->

<section class="card" style="background: var(--surface); border: 1px solid var(--border); border-radius: 8px; padding: 20px; margin: 20px 0;">
    <h2 style="color: var(--text); margin-bottom: 16px;">Project Analysis Summary</h2>

    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-bottom: 20px;">
        <div style="text-align: center; padding: 16px; background: var(--surface_2); border-radius: 8px;">
            <div style="font-size: 2.5rem; font-weight: 800; color: var(--success); margin-bottom: 8px;">100</div>
            <div style="color: var(--muted); font-size: 0.9rem;">Project Score</div>
            <div style="font-weight: 600; color: var(--text); margin-top: 4px;">A - Excellent</div>
        </div>

        <div style="text-align: center; padding: 16px; background: var(--surface_2); border-radius: 8px;">
            <div style="font-size: 1.8rem; font-weight: 700; color: var(--primary); margin-bottom: 8px;">48256</div>
            <div style="color: var(--muted); font-size: 0.9rem;">Total Files</div>
        </div>

        <div style="text-align: center; padding: 16px; background: var(--surface_2); border-radius: 8px;">
            <div style="font-size: 1.8rem; font-weight: 700; color: var(--secondary); margin-bottom: 8px;">6295</div>
            <div style="color: var(--muted); font-size: 0.9rem;">Total Directories</div>
        </div>
    </div>

    <div style="background: var(--surface_2); border-left: 4px solid var(--primary); padding: 16px; border-radius: 4px;">
        <h3 style="color: var(--text); margin-bottom: 8px;">üéØ Enhanced Features Available</h3>
        <ul style="color: var(--text); margin: 0; padding-left: 20px;">
            <li>56-day interactive calendar with activity tracking</li>
            <li>Project sessions timeline with detailed tooltips</li>
            <li>Language toggle (EN/PT) for internationalization</li>
            <li>Theme toggle (Light/Dark) for user preference</li>
            <li>Settings panel with color schema selection</li>
            <li>Responsive design for all device sizes</li>
            <li>Accessibility compliance (WCAG standards)</li>
        </ul>
    </div>
</section>
        
</main>

<footer class="enhanced-footer" style="background: var(--surface_2); border-top: 1px solid var(--border); padding: 20px; text-align: center; margin-top: 40px; color: var(--muted);">
    <p>Enhanced HTML generated with centralized architecture</p>
    <p style="font-size: 12px; margin-top: 8px;">Features: Calendar ‚Ä¢ Timeline ‚Ä¢ Language Toggle ‚Ä¢ Theme Toggle ‚Ä¢ Settings Panel</p>
</footer>
        
</body>
</html>